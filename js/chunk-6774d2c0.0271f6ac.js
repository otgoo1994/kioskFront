(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6774d2c0"],{"124f":function(t,e,s){"use strict";s("5eaa")},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,s){var a=s("c6b6"),i=s("9263");t.exports=function(t,e){var s=t.exec;if("function"===typeof s){var n=s.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"18e0":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[s("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success",align:"right"}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.$router.push("/add-kiosk")}}},[t._v("Шинэ киоск бүртгэх")])],1),s("div",{staticClass:"container-fluid mt--7"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card shadow border-0 p-5"},[s("div",{attrs:{align:"right"}},[s("form",[s("el-input",{staticClass:"search",attrs:{placeholder:"Киоскын код ж.5",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),s("div",{staticClass:"table-responsive mt-2"},[s("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.filterKiosk},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("th",{attrs:{scope:"row"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[t._v(" "+t._s(a.id)+" ")])])]),s("th",{attrs:{scope:"row"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[s("span",{staticClass:"name mb-0 text-sm",staticStyle:{color:"#8898aa"}},[t._v(t._s(a.code))]),s("br")])])]),s("td",{attrs:{scope:"row"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[s("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(a.cityname))])])])]),s("td",{attrs:{scope:"row"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[s("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(a.districtname))])])])]),s("td",{attrs:{scope:"row"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[a.live?s("span",{staticClass:"name mb-0 text-sm"},[s("span",{staticStyle:{color:"green"}},[t._v("Онлайн")])]):s("span",{staticClass:"name mb-0 text-sm"},[s("span",{staticStyle:{color:"red"}},[t._v("Оффлайн")])])])])]),s("td",{attrs:{scope:"row",align:"right"}},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[s("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(a.address))])])])]),s("td",{attrs:{align:"right"}},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Контент",placement:"top"}},[s("base-button",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.$router.push({name:"Киоск дэлгэрэнгүй",params:{id:a.code}})}}},[s("span",{staticClass:"ni ni-camera-compact"})])],1),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[s("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deleteKiosk(a.id)}}},[s("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[s("template",{slot:"columns"},[s("th",{style:{background:"#F6F9FC"}},[t._v("#Дугаар")]),s("th",{style:{background:"#F6F9FC"}},[t._v("Код")]),s("th",{style:{background:"#F6F9FC"}},[t._v("Хот / Аймаг")]),s("th",{style:{background:"#F6F9FC"}},[t._v("Дүүрэг / Сум")]),s("th",{style:{background:"#F6F9FC"}},[t._v("Онлайн")]),s("th",{style:{background:"#F6F9FC","text-align":"right"}},[t._v("Дэлгэрэнгүй")]),s("th",{style:{background:"#F6F9FC"}})])],2)],1)])])])])],1)},i=[],n=(s("4160"),s("caad"),s("a434"),s("ac1f"),s("2532"),s("841c"),s("159b"),{data:function(){return{kiosk:[],search:"",loading:!1,selected:"",checkPhoto:{all:!1,checked:[]},modals:{photo:!1,video:!1},photos:[]}},computed:{filterKiosk:function(){var t=this,e=[];return this.kiosk.forEach((function(s){(s.cityname.includes(t.search)||s.districtname.includes(t.search)||s.code.includes(t.search))&&e.push(s)})),e}},mounted:function(){this.getKiosk()},methods:{deleteKiosk:function(t){var e=this;this.$confirm("Устгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var s=e;e.loading=!0;var a=localStorage.getItem("token");s.$axios({method:"POST",url:e.$appUrl+"/user/delete-kiosk",headers:{Authorization:"Bearer ".concat(a)},data:{id:t}}).then((function(e){s.loading=!1,"success"==e.data.result&&s.kiosk.forEach((function(e,a){e.id==t&&s.kiosk.splice(a,1)}))})).catch((function(t){s.loading=!1,console.log(t)}))}))},getKiosk:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-all-kiosk",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.kiosk=e.data.kiosk,t.photos=e.data.photos)})).catch((function(e){t.loading=!1,console.log(e)}))}}}),r=n,c=(s("4c4f"),s("2877")),o=Object(c["a"])(r,a,i,!1,null,"718009f9",null);e["default"]=o.exports},2532:function(t,e,s){"use strict";var a=s("23e7"),i=s("5a34"),n=s("1d80"),r=s("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,s){var a=s("861d"),i=s("c6b6"),n=s("b622"),r=n("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},"4c4f":function(t,e,s){"use strict";s("5c6f")},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c6f":function(t,e,s){},"5e8a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[s("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success",align:"right"}}),s("div",{staticClass:"container-fluid mt--7"},[s("div",{staticClass:"row card shadow border-0 p-5"},[s("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.addUser(e)}}},[s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-input",{attrs:{placeholder:"Овог (30 тэмдэг)",maxlength:"30",required:"",clearable:""},model:{value:t.user.lastname,callback:function(e){t.$set(t.user,"lastname",e)},expression:"user.lastname"}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-input",{attrs:{placeholder:"Нэр (30 тэмдэг)",maxlength:"30",required:"",clearable:""},model:{value:t.user.firstname,callback:function(e){t.$set(t.user,"firstname",e)},expression:"user.firstname"}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-input",{attrs:{placeholder:"Имэйл (50 тэмдэг)",required:"",type:"email",maxlength:"50",clearable:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-input",{attrs:{placeholder:"Утасны дугаар",maxlength:"20",required:"",pattern:"[0-9]{8}",clearable:""},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-select",{staticStyle:{width:"80%","margin-right":"10px"},attrs:{filterable:"",placeholder:"Хот / Аймаг"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}},t._l(t.city,(function(t,e){return s("el-option",{key:e,attrs:{label:t.cityname,value:t.id}})})),1),s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){t.modals.city=!0}}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[s("el-select",{staticStyle:{width:"80%","margin-right":"10px"},attrs:{filterable:"",placeholder:"Дүүрэг / Сум"},model:{value:t.user.district,callback:function(e){t.$set(t.user,"district",e)},expression:"user.district"}},t._l(t.getDistrict,(function(t,e){return s("el-option",{key:e,attrs:{label:t.districtname,value:t.id}})})),1),s("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){t.modals.district=!0}}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[s("el-input",{attrs:{type:"textarea",required:"",rows:4,placeholder:"Дэлгэрэнгүй хаяг (60 тэмдэг)",maxlength:"60"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),s("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"right"}},[s("el-button-group",[s("el-button",{attrs:{type:"danger",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.push("/kiosks")}}},[t._v(" Болих")]),s("el-button",{attrs:{type:"primary","native-type":"submit",icon:"el-icon-check"}},[t._v(" Хадгалах")])],1)],1)],1)],1)])]),s("modal",{attrs:{show:t.modals.city},on:{"update:show":function(e){return t.$set(t.modals,"city",e)}}},[s("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Хот / Аймаг бүртгэх")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCity,expression:"newCity"}],staticClass:"form-control mt-1 specInput",attrs:{type:"text",placeholder:"Хотын нэр ж. Улаанбаатар"},domProps:{value:t.newCity},on:{input:function(e){e.target.composing||(t.newCity=e.target.value)}}})])]),s("template",{slot:"footer"},[s("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.city=!1}}},[t._v("Гарах")]),s("base-button",{attrs:{type:"primary"},on:{click:t.addCity}},[t._v("Хадгалах")])],1)],2),s("modal",{attrs:{show:t.modals.district},on:{"update:show":function(e){return t.$set(t.modals,"district",e)}}},[s("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Дүүрэг / Сум бүртгэх")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Хот / Аймаг"},model:{value:t.newDistrict.city,callback:function(e){t.$set(t.newDistrict,"city",e)},expression:"newDistrict.city"}},t._l(t.city,(function(t,e){return s("el-option",{key:e,attrs:{label:t.cityname,value:t.id}})})),1)],1),s("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newDistrict.district,expression:"newDistrict.district"}],staticClass:"form-control mt-1 specInput",attrs:{type:"text",placeholder:"Дүүрэг / Сум нэр ж. Налайх"},domProps:{value:t.newDistrict.district},on:{input:function(e){e.target.composing||t.$set(t.newDistrict,"district",e.target.value)}}})])]),s("template",{slot:"footer"},[s("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.district=!1}}},[t._v("Гарах")]),s("base-button",{attrs:{type:"primary"},on:{click:t.addDistrict}},[t._v("Хадгалах")])],1)],2)],1)},i=[],n=(s("4160"),s("159b"),{data:function(){return{user:{lastname:"",firstname:"",email:"",phone:"",permission:"",city:"",district:"",address:""},city:[],district:[],modals:{district:!1,city:!1},newCity:"",newDistrict:{city:"",district:""},loading:!1}},computed:{getDistrict:function(){var t=this,e=[];return this.district.forEach((function(s){t.user.city==s.cityId&&e.push(s)})),e}},mounted:function(){this.getInfo()},methods:{addUser:function(){var t=this;if(""==this.user.city||""==this.user.district)this.$message({message:"Талбараа гүйцэд бөглөнө үү",type:"error"});else{var e=this;this.loading=!0;var s=localStorage.getItem("token");e.$axios({method:"POST",url:this.$appUrl+"/user/add-new-user",headers:{Authorization:"Bearer ".concat(s)},data:{user:this.user}}).then((function(s){e.loading=!1,"success"==s.data.result?t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}):t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэлтэй",type:"danger"})})).catch((function(t){e.loading=!1,console.log(t)}))}},addDistrict:function(){var t=this,e=this;this.loading=!0;var s=localStorage.getItem("token");e.$axios({method:"POST",url:this.$appUrl+"/user/add-new-district",headers:{Authorization:"Bearer ".concat(s)},data:{city:this.newDistrict.city,district:this.newDistrict.district}}).then((function(s){e.loading=!1,"success"==s.data.result?(t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}),e.modals.district=!1,e.getInfo()):t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэлтэй",type:"danger"})})).catch((function(t){e.loading=!1,console.log(t)}))},addCity:function(){var t=this,e=this;this.loading=!0;var s=localStorage.getItem("token");e.$axios({method:"POST",url:this.$appUrl+"/user/add-new-city",headers:{Authorization:"Bearer ".concat(s)},data:{city:this.newCity}}).then((function(s){e.loading=!1,"success"==s.data.result?(t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}),e.modals.city=!1,e.getInfo()):t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэлтэй",type:"danger"})})).catch((function(t){e.loading=!1,console.log(t)}))},getInfo:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/new-kiosk-info",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.city=e.data.city,t.district=e.data.district)})).catch((function(e){t.loading=!1,console.log(e)}))}}}),r=n,c=(s("124f"),s("2877")),o=Object(c["a"])(r,a,i,!1,null,"d5f5760a",null);e["default"]=o.exports},"5eaa":function(t,e,s){},"841c":function(t,e,s){"use strict";var a=s("d784"),i=s("825a"),n=s("1d80"),r=s("129f"),c=s("14c3");a("search",1,(function(t,e,s){return[function(e){var s=n(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,s):new RegExp(e)[t](String(s))},function(t){var a=s(e,t,this);if(a.done)return a.value;var n=i(t),o=String(this),l=n.lastIndex;r(l,0)||(n.lastIndex=0);var d=c(n,o);return r(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},9263:function(t,e,s){"use strict";var a=s("ad6d"),i=s("9f7f"),n=RegExp.prototype.exec,r=String.prototype.replace,c=n,o=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=o||d||l;u&&(c=function(t){var e,s,i,c,u=this,m=l&&u.sticky,p=a.call(u),f=u.source,h=0,g=t;return m&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,h++),s=new RegExp("^(?:"+f+")",p)),d&&(s=new RegExp("^"+f+"$(?!\\s)",p)),o&&(e=u.lastIndex),i=n.call(m?s:u,g),m?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:o&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),d&&i&&i.length>1&&r.call(i[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),t.exports=c},"9f7f":function(t,e,s){"use strict";var a=s("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,s){var a=s("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,s){"use strict";var a=s("23e7"),i=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},caad:function(t,e,s){"use strict";var a=s("23e7"),i=s("4d64").includes,n=s("44d2"),r=s("ae40"),c=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d784:function(t,e,s){"use strict";s("ac1f");var a=s("6eeb"),i=s("d039"),n=s("b622"),r=s("9263"),c=s("9112"),o=n("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=n("replace"),m=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));t.exports=function(t,e,s,u){var f=n(t),h=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),g=h&&!i((function(){var e=!1,s=/a/;return"split"===t&&(s={},s.constructor={},s.constructor[o]=function(){return s},s.flags="",s[f]=/./[f]),s.exec=function(){return e=!0,null},s[f](""),!e}));if(!h||!g||"replace"===t&&(!l||!d||m)||"split"===t&&!p){var v=/./[f],x=s(f,""[t],(function(t,e,s,a,i){return e.exec===r?h&&!i?{done:!0,value:v.call(e,s,a)}:{done:!0,value:t.call(s,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),y=x[0],b=x[1];a(String.prototype,t,y),a(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}u&&c(RegExp.prototype[f],"sham",!0)}}}]);
//# sourceMappingURL=chunk-6774d2c0.0271f6ac.js.map