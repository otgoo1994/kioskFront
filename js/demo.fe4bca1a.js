(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demo"],{"148b":function(t,e,a){},"15f4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[a("div",{staticClass:"card-body px-lg-5 py-lg-5",attrs:{align:"center"}},[a("img",{staticClass:"mb-3",style:{height:"40px",width:"auto"},attrs:{src:"logo.png"}}),t._m(0),a("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("el-input",{attrs:{placeholder:"Киоск машины код","suffix-icon":"el-icon-right",clearable:""},model:{value:t.kioskId,callback:function(e){t.kioskId=e},expression:"kioskId"}}),a("base-button",{staticClass:"my-2",staticStyle:{width:"100%"},attrs:{"native-type":"submit",type:"primary"}},[t._v("Нэвтрэх")])],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Киоск машины кодоо оруулна уу")])])}],o={name:"login",data:function(){return{kioskId:""}},methods:{login:function(){var t=this,e=this;this.$axios({method:"post",url:"/kiosk/login",headers:{},data:{kioskId:this.kioskId}}).then((function(a){"failed"==a.data.result?t.$notify({title:"Амжилтгүй",message:"Төхөөрөмжийн код олдсонгүй",type:"danger"}):(localStorage["kiosk-id"]=t.kioskId,t.$notify({title:"Амжилттай",message:"Нэвтэрлээ",type:"success"}),e.$router.push("/slide"))}))}}},n=o,l=a("2877"),c=Object(l["a"])(n,s,i,!1,null,null,null);e["default"]=c.exports},"21aa":function(t,e,a){},2598:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swiper-container",staticStyle:{position:"relative",background:"#fff"}},[a("el-button",{staticStyle:{"z-index":"50",position:"fixed",top:"20px",left:"20px"},attrs:{circle:""},on:{click:t.toggleMute}},[a("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.muteImg}})]),a("video",{ref:"homevideo",staticStyle:{height:"608px",position:"relative"},attrs:{id:"homevideo",width:"100%","webkit-playsinline":"true",playsinline:"true"},domProps:{muted:t.muted}},[a("source",{attrs:{src:t.currentVideo.src,type:t.currentVideo.type}})]),a("div",[a("el-carousel",{staticStyle:{height:"1200px"},attrs:{"indicator-position":"none",arrow:"never",interval:t.interval},on:{change:t.FixInterval}},t._l(t.photos,(function(t,e){return a("el-carousel-item",{key:e,staticStyle:{height:"1200px"}},[a("img",{staticClass:"item__image",attrs:{src:"/contents/image/slide/"+t.name,alt:""}})])})),1)],1),a("marquee",{staticStyle:{position:"fixed",bottom:"15px","font-size":"40px"}},[t._v("SAMPLE TEXT MARQUEE")]),a("div",{staticStyle:{position:"fixed",bottom:"15px",left:"0px","padding-left":"20px","line-height":"normal","z-index":"50",background:"#fff"}},[a("span",{staticStyle:{"font-size":"45px","font-weight":"700"}},[t._v(t._s(t.date.hour)+" : "+t._s(t.date.min)+" : "+t._s(t.date.second))]),a("br"),a("span",{staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v(t._s(t.date.date))])]),""!=t.weather.icon?a("img",{staticStyle:{position:"fixed",bottom:"35px",right:"80px",width:"80px",height:"auto","z-index":"51"},attrs:{src:"https://openweathermap.org/img/wn/"+t.weather.icon+"@2x.png"}}):t._e(),a("div",{staticStyle:{position:"fixed",bottom:"15px",right:"0px","padding-right":"20px","line-height":"normal","z-index":"50",background:"#fff"},attrs:{align:"right"}},[a("span",{staticStyle:{"font-size":"50px","font-weight":"700"}},[t._v(t._s(t.weather.temp)+"°")]),a("br"),a("span",{staticStyle:{"font-size":"25px","font-weight":"700"}},[t._v("Ulaanbaatar")])])],1)},i=[],o=(a("a4d3"),a("e01a"),a("4160"),a("b0c0"),a("159b"),null),n=null,l=null,c={data:function(){return{btnType:"danger",muteImg:"mute.png",kioskId:"",muted:!0,photos:[],interval:15e3,videos:[],videoIndex:0,currentVideo:{src:"",type:""},VideoInterval:0,date:{hour:"",min:"",second:"",date:""},weather:{temp:"",icon:"",desc:""}}},beforeRouteLeave:function(t,e,a){clearInterval(o),clearInterval(n),clearInterval(l),a()},mounted:function(){var t=localStorage.getItem("kiosk-id");void 0==t||null==t?this.$router.push("/auth-kiosk"):(this.kioskId=t,this.getPhotos()),this.$refs.homevideo.addEventListener("ended",this.HandleVideo),o=setInterval(this.checkPlayingVideo,6e4),n=setInterval(this.time,1e3),this.getWeather(),l=setInterval(this.getWeather,36e5)},methods:{toggleMute:function(){this.muted=!this.muted,this.muted?this.muteImg="mute.png":this.muteImg="unmute.png"},time:function(){var t=new Date;this.date.hour=t.getHours()>9?t.getHours():"0"+t.getHours(),this.date.min=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes(),this.date.second=t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds(),this.date.date=t.toDateString()},checkPlayingVideo:function(){this.VideoInterval>10?location.reload():this.VideoInterval++},HandleVideo:function(){this.VideoInterval=0,this.videos.length==this.videoIndex+1?this.videoIndex=0:this.videoIndex++,this.currentVideo=this.videos[this.videoIndex],this.$refs.homevideo.load(),this.$refs.homevideo.play()},getWeather:function(){var t=this;this.$axios({method:"GET",url:"https://api.openweathermap.org/data/2.5/weather?q=Ulaanbaatar,MN&units=metric&appid=af5b19ba73d013664a2eeabf76ea54c3",headers:{"Content-Type":"application/json"}}).then((function(e){t.weather.temp=parseInt(e.data.main.temp),t.weather.desc=e.data.weather[0].description,t.weather.icon=e.data.weather[0].icon})).catch((function(t){console.log(t)}))},FixInterval:function(t){this.interval=1e3*this.photos[t].second},playM:function(){this.currentVideo=this.videos[this.videoIndex],this.$refs.homevideo.load(),this.$refs.homevideo.play()},getPhotos:function(){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/kiosk/get-photo",headers:{Authorization:"Bearer ".concat(e)},data:{id:this.kioskId}}).then((function(e){"success"==e.data.result&&(t.photos=e.data.photos,t.interval=1e3*e.data.photos[0].second,e.data.videos.forEach((function(e){t.videos.push({src:"/contents/video/"+e.name,type:e.extn})})),t.playM())})).catch((function(t){console.log(t)}))}}},r=c,d=(a("4142"),a("2877")),h=Object(d["a"])(r,s,i,!1,null,"427529a8",null);e["default"]=h.exports},4142:function(t,e,a){"use strict";a("21aa")},"4a39":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",staticStyle:{"min-height":"600px","background-image":"url(img/theme/profile-cover.jpg)","background-size":"cover","background-position":"center top"}},[a("span",{staticClass:"mask bg-gradient-success opacity-8"}),a("div",{staticClass:"container-fluid d-flex align-items-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 col-md-10"},[a("h1",{staticClass:"display-2 text-white"},[t._v("Hello Jesse")]),a("p",{staticClass:"text-white mt-0 mb-5"},[t._v("This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks")]),a("a",{staticClass:"btn btn-info",attrs:{href:"#!"}},[t._v("Edit profile")])])])])]),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 order-xl-2 mb-5 mb-xl-0"},[a("div",{staticClass:"card card-profile shadow"},[t._m(0),a("div",{staticClass:"card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"},[a("div",{staticClass:"d-flex justify-content-between"},[a("base-button",{staticClass:"mr-4",attrs:{size:"sm",type:"info"}},[t._v("Connect")]),a("base-button",{staticClass:"float-right",attrs:{size:"sm",type:"default"}},[t._v("Message")])],1)]),t._m(1)])]),a("div",{staticClass:"col-xl-8 order-xl-1"},[a("card",{attrs:{shadow:"",type:"secondary"}},[a("div",{staticClass:"bg-white border-0",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-8"},[a("h3",{staticClass:"mb-0"},[t._v("My account")])]),a("div",{staticClass:"col-4 text-right"},[a("a",{staticClass:"btn btn-sm btn-primary",attrs:{href:"#!"}},[t._v("Settings")])])])]),[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("h6",{staticClass:"heading-small text-muted mb-4"},[t._v("User information")]),a("div",{staticClass:"pl-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("base-input",{attrs:{alternative:"",label:"Username",placeholder:"Username","input-classes":"form-control-alternative"},model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("div",{staticClass:"col-lg-6"},[a("base-input",{attrs:{alternative:"",label:"Email address",placeholder:"jesse@example.com","input-classes":"form-control-alternative"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("base-input",{attrs:{alternative:"",label:"First name",placeholder:"First name","input-classes":"form-control-alternative"},model:{value:t.model.firstName,callback:function(e){t.$set(t.model,"firstName",e)},expression:"model.firstName"}})],1),a("div",{staticClass:"col-lg-6"},[a("base-input",{attrs:{alternative:"",label:"Last name",placeholder:"Last name","input-classes":"form-control-alternative"},model:{value:t.model.lastName,callback:function(e){t.$set(t.model,"lastName",e)},expression:"model.lastName"}})],1)])]),a("hr",{staticClass:"my-4"}),a("h6",{staticClass:"heading-small text-muted mb-4"},[t._v("Contact information")]),a("div",{staticClass:"pl-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("base-input",{attrs:{alternative:"",label:"Address",placeholder:"Home Address","input-classes":"form-control-alternative"},model:{value:t.model.address,callback:function(e){t.$set(t.model,"address",e)},expression:"model.address"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("base-input",{attrs:{alternative:"",label:"City",placeholder:"City","input-classes":"form-control-alternative"},model:{value:t.model.city,callback:function(e){t.$set(t.model,"city",e)},expression:"model.city"}})],1),a("div",{staticClass:"col-lg-4"},[a("base-input",{attrs:{alternative:"",label:"Country",placeholder:"Country","input-classes":"form-control-alternative"},model:{value:t.model.country,callback:function(e){t.$set(t.model,"country",e)},expression:"model.country"}})],1),a("div",{staticClass:"col-lg-4"},[a("base-input",{attrs:{alternative:"",label:"Postal code",placeholder:"Postal code","input-classes":"form-control-alternative"},model:{value:t.model.zipCode,callback:function(e){t.$set(t.model,"zipCode",e)},expression:"model.zipCode"}})],1)])]),a("hr",{staticClass:"my-4"}),a("h6",{staticClass:"heading-small text-muted mb-4"},[t._v("About me")]),a("div",{staticClass:"pl-lg-4"},[a("div",{staticClass:"form-group"},[a("base-input",{attrs:{alternative:"",label:"About Me"}},[a("textarea",{staticClass:"form-control form-control-alternative",attrs:{rows:"4",placeholder:"A few words about you ..."}},[t._v("A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.")])])],1)])])]],2)],1)])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-3 order-lg-2"},[a("div",{staticClass:"card-profile-image"},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"rounded-circle",attrs:{src:"img/theme/team-4-800x800.jpg"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body pt-0 pt-md-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card-profile-stats d-flex justify-content-center mt-md-5"},[a("div",[a("span",{staticClass:"heading"},[t._v("22")]),a("span",{staticClass:"description"},[t._v("Friends")])]),a("div",[a("span",{staticClass:"heading"},[t._v("10")]),a("span",{staticClass:"description"},[t._v("Photos")])]),a("div",[a("span",{staticClass:"heading"},[t._v("89")]),a("span",{staticClass:"description"},[t._v("Comments")])])])])]),a("div",{staticClass:"text-center"},[a("h3",[t._v(" Jessica Jones"),a("span",{staticClass:"font-weight-light"},[t._v(", 27")])]),a("div",{staticClass:"h5 font-weight-300"},[a("i",{staticClass:"ni location_pin mr-2"}),t._v("Bucharest, Romania ")]),a("div",{staticClass:"h5 mt-4"},[a("i",{staticClass:"ni business_briefcase-24 mr-2"}),t._v("Solution Manager - Creative Tim Officer ")]),a("div",[a("i",{staticClass:"ni education_hat mr-2"}),t._v("University of Computer Science ")]),a("hr",{staticClass:"my-4"}),a("p",[t._v("Ryan — the name taken by Melbourne-raised, Brooklyn-based Nick Murphy — writes, performs and records all of his own music.")]),a("a",{attrs:{href:"#"}},[t._v("Show more")])])])}],o={name:"user-profile",data:function(){return{model:{username:"",email:"",firstName:"",lastName:"",address:"",city:"",country:"",zipCode:"",about:""}}}},n=o,l=a("2877"),c=Object(l["a"])(n,s,i,!1,null,null,null);e["default"]=c.exports},a15b:function(t,e,a){"use strict";var s=a("23e7"),i=a("44ad"),o=a("fc6a"),n=a("a640"),l=[].join,c=i!=Object,r=n("join",",");s({target:"Array",proto:!0,forced:c||!r},{join:function(t){return l.call(o(this),void 0===t?",":t)}})},a191:function(t,e,a){},a3fd:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success",align:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.modals.photo=!0}}},[t._v("Бичлэг байршуулах")])],1),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow border-0 p-5"},[a("div",{staticClass:"table-responsive mt-2"},[a("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.photos},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[t._v(" "+t._s(s.id)+" ")])])]),a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[t._v(" "+t._s(s.name)+" ")])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.created_at))])])])]),s.isChange?s.isChange?a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-date-picker",{staticStyle:{"max-width":"150px"},attrs:{type:"date",placeholder:"Огноогоо сонгоно уу"},model:{value:s.changed_at,callback:function(e){t.$set(s,"changed_at",e)},expression:"row.changed_at"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(e){return t.saveChangedDate(s)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini",circle:""},on:{click:function(e){return t.hideChangeDate(s)}}})],1)])]):t._e():a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.end_at))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Дуусах хугацааг шинэчлэх",placement:"top-end"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(t){s.isChange=!0}}})],1)],1)])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.size)+" MB")])])])]),s.descChange?s.descChange?a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"Тайлбар",maxlength:"80",required:"",clearable:""},model:{value:s.changed_desc,callback:function(e){t.$set(s,"changed_desc",e)},expression:"row.changed_desc"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(e){return t.saveChangedDate(s)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini",circle:""},on:{click:function(e){return t.hideChangedDesc(s)}}})],1)])]):t._e():a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.description))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тайлбар шинэчлэх",placement:"top-end"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(t){s.descChange=!0}}})],1)],1)])]),a("td",{attrs:{scope:"row",align:"right"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:s.active},on:{click:function(e){return t.changeStat(s.id)}}}),a("span",{staticClass:"slider round"})])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Киоск дээр нэмэх",placement:"top"}},[a("base-button",{attrs:{type:"warning",size:"sm"},on:{click:function(e){return t.selectVideo(s.id)}}},[a("span",{staticClass:"ni ni-cloud-upload-96"})])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тоглуулах",placement:"top"}},[a("base-button",{attrs:{type:"info",size:"sm"},on:{click:function(e){return t.playVideo(s)}}},[a("span",{staticClass:"ni ni-button-play"})])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deletePhoto(s.id)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[a("template",{slot:"columns"},[a("th",{style:{background:"#F6F9FC"}},[t._v("#Дугаар")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Бичлэг")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Эхлэх огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Дуусах огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Файлын хэмжээ")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Тайлбар")]),a("th",{style:{background:"#F6F9FC","text-align":"right"}},[t._v("Төлөв")]),a("th",{style:{background:"#F6F9FC"}})])],2)],1)])])])]),a("modal",{attrs:{show:t.modals.photo},on:{"update:show":function(e){return t.$set(t.modals,"photo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Зураг байршуулах")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Эхлэх огноо"},model:{value:t.newPhoto.created_at,callback:function(e){t.$set(t.newPhoto,"created_at",e)},expression:"newPhoto.created_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Дуусах огноо"},model:{value:t.newPhoto.end_at,callback:function(e){t.$set(t.newPhoto,"end_at",e)},expression:"newPhoto.end_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-input",{attrs:{placeholder:"Тайлбар",maxlength:"80",required:"",clearable:""},model:{value:t.newPhoto.description,callback:function(e){t.$set(t.newPhoto,"description",e)},expression:"newPhoto.description"}})],1),a("div",{staticClass:"block mt-10"},[a("el-button",{staticStyle:{width:"100%"},on:{click:t.trigger}},[t._v(t._s(t.newPhoto.filename))])],1),a("input",{ref:"image",attrs:{type:"file",accept:"video/*",id:"image",hidden:""},on:{change:t.changeImageUpload}})])]),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.photo=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.uploadPhoto}},[t._v("Хадгалах")])],1)],2),a("modal",{attrs:{show:t.modals.playvideo},on:{"update:show":function(e){return t.$set(t.modals,"playvideo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Тоглуулагч")]),a("div",{staticClass:"row"},[a("video",{ref:"homevideo",attrs:{id:"homevideo",width:"100%",controls:""}},[a("source",{attrs:{src:t.currentVideo.src,type:t.currentVideo.type}})])])]),a("modal",{attrs:{show:t.modals.addVideo},on:{"update:show":function(e){return t.$set(t.modals,"addVideo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Бичлэг оруулах")]),a("div",{staticClass:"row",staticStyle:{padding:"10px","max-height":"300px","overflow-y":"auto"}},[a("el-checkbox",{attrs:{indeterminate:t.kiosks.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.kiosks.checkall,callback:function(e){t.$set(t.kiosks,"checkall",e)},expression:"kiosks.checkall"}},[t._v("Check all")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},on:{change:t.handleCheckedCitiesChange},model:{value:t.kiosks.checked,callback:function(e){t.$set(t.kiosks,"checked",e)},expression:"kiosks.checked"}},t._l(t.kiosks.list,(function(e,s){return a("el-checkbox",{key:s,staticStyle:{width:"100%"},attrs:{label:e.code}},[a("span",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.code))])])})),1)],1),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.addVideo=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.saveVideo}},[t._v("Хадгалах")])],1)],2)],1)},i=[],o=(a("a4d3"),a("e01a"),a("4160"),a("a15b"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{photos:[],kiosks:{checkall:!1,checked:[],list:[],isIndeterminate:!1},search:"",loading:!1,modals:{photo:!1,playvideo:!1,addVideo:!1},newPhoto:{description:"",SelectedFile:"",created_at:"",end_at:"",filename:"Бичлэг байршуулах"},currentVideo:{src:"",type:""},addKioskCode:"",selectedVideo:""}},mounted:function(){this.getVideos(),this.getKiosks()},methods:{handleCheckAllChange:function(t){var e=this;t?this.kiosks.list.forEach((function(t){e.kiosks.checked.push(t.code)})):this.kiosks.checked=[],this.kiosks.isIndeterminate=!t},handleCheckedCitiesChange:function(t){var e=t.length;this.kiosks.checkall=e===this.kiosks.list.length,this.kiosks.isIndeterminate=e>0&&e<this.kiosks.list.length},getKiosks:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-all-kiosk",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.kiosks.list=e.data.kiosk,console.log(e.data.kiosk))})).catch((function(e){t.loading=!1,console.log(e)}))},formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},saveChangedDate:function(t){var e=this,a=localStorage.getItem("token");this.loading=!0,this.$axios({method:"POST",url:this.$appUrl+"/user/update-video-end-at",headers:{Authorization:"Bearer ".concat(a)},data:{row:t}}).then((function(a){e.loading=!1,200==a.data.result&&(t.end_at=e.formatDate(t.changed_at),t.description=t.changed_desc,t.active=1,t.descChange=!1,t.isChange=!1,e.$notify({title:"Амжилттай",message:"Огноо шинэчлэгдлээ",type:"success"}))}))},hideChangeDate:function(t){t.changed_at=t.end_at,t.isChange=!1},hideChangedDesc:function(t){t.changed_desc=t.description,t.descChange=!1},saveVideo:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/add-kiosk-video",headers:{Authorization:"Bearer ".concat(e)},data:{kiosk:this.kiosks.checked,id:this.selectedVideo}}).then((function(e){t.loading=!1,"success"==e.data.result?t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}):"duplicate"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэгдсэн",type:"danger"}):"failed"==e.data.result&&t.$notify({title:"Амжилтгүй",message:"Киоск олдсонгүй",type:"danger"})})).catch((function(e){t.loading=!1,console.log(e)}))},selectVideo:function(t){this.selectedVideo=t,this.modals.addVideo=!0},playVideo:function(t){this.currentVideo.src=this.$appUrl+"/contents/video/"+t.name,this.currentVideo.type=t.extn,this.$refs.homevideo.load(),this.modals.playvideo=!0},deletePhoto:function(t){var e=this;this.$confirm("Устгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e;e.loading=!0;var s=localStorage.getItem("token");a.$axios({method:"POST",url:e.$appUrl+"/user/delete-video",headers:{Authorization:"Bearer ".concat(s)},data:{id:t}}).then((function(s){a.loading=!1,"success"==s.data.result&&e.photos.forEach((function(e,s){e.id==t&&a.photos.splice(s,1)}))})).catch((function(t){a.loading=!1,console.log(t)}))}))},changeStat:function(t){var e=this;this.loading=!0;var a=0,s=0;this.photos.forEach((function(e,i){e.id==t&&(s=i,e.active||(a=1))}));var i=localStorage.getItem("token");e.$axios({method:"POST",url:this.$appUrl+"/user/update-video-active",headers:{Authorization:"Bearer ".concat(i)},data:{id:t,active:a}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.photos[s].active=a)})).catch((function(t){e.loading=!1,console.log(t)}))},getVideos:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-videos",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(console.log(e.data.video),t.photos=e.data.video)})).catch((function(e){t.loading=!1,console.log(e)}))},uploadPhoto:function(){var t=this,e=localStorage.getItem("token");if(""==this.newPhoto.SelectedFile||""==this.newPhoto.created_at||""==this.newPhoto.end_at||""==this.newPhoto.description)this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"danger"});else{this.loading=!0;var a=new FormData;a.append("video",this.newPhoto.SelectedFile,this.newPhoto.SelectedFile.name),a.append("info",JSON.stringify(this.newPhoto)),this.$axios.post(this.$appUrl+"/user/video-upload",a,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Бичлэг бүртгэгдлээ",type:"success"}),t.getVideos())})).catch((function(e){t.loading=!1,console.log(e)}))}},trigger:function(){this.$refs.image.click()},changeImageUpload:function(t){this.newPhoto.SelectedFile=t.target.files[0],this.newPhoto.filename=this.newPhoto.SelectedFile.name}}}),n=o,l=(a("cebf"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"0489ecf1",null);e["default"]=c.exports},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-5 col-md-7"},[a("div",{staticClass:"card bg-secondary shadow border-0"},[a("div",{staticClass:"card-body px-lg-5 py-lg-5",attrs:{align:"center"}},[a("img",{staticClass:"mb-3",style:{height:"40px",width:"auto"},attrs:{src:"logo.png"}}),t._m(0),a("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("base-input",{staticClass:"input-group-alternative mb-3",attrs:{placeholder:"Имэйл","addon-left-icon":"ni ni-email-83"},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),a("base-input",{staticClass:"input-group-alternative",attrs:{placeholder:"Нууц үг",type:"password","addon-left-icon":"ni ni-lock-circle-open"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}}),a("div",{staticClass:"text-center"},[a("base-button",{staticClass:"my-4",attrs:{"native-type":"submit",type:"primary"}},[t._v("Нэвтрэх")])],1)],1)])]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-6"}),a("div",{staticClass:"col-6",attrs:{align:"right"}},[a("a",{staticClass:"text-light",attrs:{href:"javascript:;"},on:{click:t.forgotPassword}},[a("small",[t._v("Нууц үгээ мартсан уу?")])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center text-muted mb-4"},[a("small",[t._v("Хэрэглэгчийн нэр болон нууц үгээ ашиглана уу")])])}],o={name:"login",data:function(){return{model:{email:"",password:""}}},methods:{forgotPassword:function(){var t=this;this.$prompt("И-мэйл хаягаа оруулна уу","Нууц үг сэргээх",{confirmButtonText:"Сэргээх",cancelButtonText:"Болих",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Invalid Email"}).then((function(e){var a=e.value;t.fullscreenLoading=!0;var s=t;t.$axios({method:"post",url:t.$appUrl+"/api/user/forgot-password",headers:{},data:{email:a}}).then((function(e){s.fullscreenLoading=!1,"failed"==e.data.result?t.$message({message:e.data.data,type:"warning"}):t.$message({message:e.data.data,type:"success"})}))}))},login:function(){var t=this,e=this;this.$axios({method:"post",url:this.$appUrl+"/user/login",headers:{},data:{email:this.model.email,password:this.model.password}}).then((function(a){"failed"==a.data.result?t.$notify({title:"Амжилтгүй",message:"Хэрэглэгчийн нэр эсвэл нууц үг буруу",type:"danger"}):(localStorage.token=a.data.token,localStorage.user=JSON.stringify(a.data.user),t.$notify({title:"Амжилттай",message:"Системд нэвтэрлээ",type:"success"}),e.$router.push("/kiosks"))}))}}},n=o,l=a("2877"),c=Object(l["a"])(n,s,i,!1,null,null,null);e["default"]=c.exports},cebf:function(t,e,a){"use strict";a("ff84")},e01a:function(t,e,a){"use strict";var s=a("23e7"),i=a("83ab"),o=a("da84"),n=a("5135"),l=a("861d"),c=a("9bf2").f,r=a("e893"),d=o.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var h={},u=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof u?new d(t):void 0===t?d():d(t);return""===t&&(h[e]=!0),e};r(u,d);var m=u.prototype=d.prototype;m.constructor=u;var p=m.toString,g="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=p.call(t);if(n(h,t))return"";var a=g?e.slice(7,-1):e.replace(f,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:u})}},f0b9:function(t,e,a){"use strict";a("148b")},fa93:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success",align:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.modals.photo=!0}}},[t._v("Текст нэмэх")])],1),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow border-0 p-5"},[a("div",{staticClass:"table-responsive mt-2"},[a("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.photos},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[t._v(" "+t._s(s.id)+" ")])])]),a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[t._v(" "+t._s(s.text)+" ")])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.created_at))])])])]),s.isChange?s.isChange?a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-date-picker",{staticStyle:{"max-width":"150px"},attrs:{type:"date",placeholder:"Огноогоо сонгоно уу"},model:{value:s.changed_at,callback:function(e){t.$set(s,"changed_at",e)},expression:"row.changed_at"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(e){return t.saveChangedDate(s)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini",circle:""},on:{click:function(e){return t.hideChangeDate(s)}}})],1)])]):t._e():a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.end_at))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Дуусах хугацааг шинэчлэх",placement:"top-end"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(t){s.isChange=!0}}})],1)],1)])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v("-")])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Киоск дээр нэмэх",placement:"top"}},[a("base-button",{attrs:{type:"warning",size:"sm"},on:{click:function(e){return t.selectVideo(s.id)}}},[a("span",{staticClass:"ni ni-cloud-upload-96"})])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deletePhoto(s.id)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[a("template",{slot:"columns"},[a("th",{style:{background:"#F6F9FC"}},[t._v("#Дугаар")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Текст")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Эхлэх огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Дуусах огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Бүртгэсэн ажилтан")]),a("th",{style:{background:"#F6F9FC"}})])],2)],1)])])])]),a("modal",{attrs:{show:t.modals.addVideo},on:{"update:show":function(e){return t.$set(t.modals,"addVideo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Текст оруулах")]),a("div",{staticClass:"row",staticStyle:{padding:"10px"}},[a("el-checkbox",{attrs:{indeterminate:t.kiosks.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.kiosks.checkall,callback:function(e){t.$set(t.kiosks,"checkall",e)},expression:"kiosks.checkall"}},[t._v("Check all")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},on:{change:t.handleCheckedCitiesChange},model:{value:t.kiosks.checked,callback:function(e){t.$set(t.kiosks,"checked",e)},expression:"kiosks.checked"}},t._l(t.kiosks.list,(function(e,s){return a("el-checkbox",{key:s,staticStyle:{width:"100%"},attrs:{label:e.code}},[a("span",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.code))])])})),1)],1),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.addVideo=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.saveVideo}},[t._v("Хадгалах")])],1)],2),a("modal",{attrs:{show:t.modals.photo},on:{"update:show":function(e){return t.$set(t.modals,"photo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Текст оруулах")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Эхлэх огноо"},model:{value:t.currentText.created_at,callback:function(e){t.$set(t.currentText,"created_at",e)},expression:"currentText.created_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Дуусах огноо"},model:{value:t.currentText.end_at,callback:function(e){t.$set(t.currentText,"end_at",e)},expression:"currentText.end_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-input",{attrs:{type:"text",placeholder:"Текст",maxlength:"200","show-word-limit":""},model:{value:t.currentText.text,callback:function(e){t.$set(t.currentText,"text",e)},expression:"currentText.text"}})],1)])]),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.photo=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.uploadText}},[t._v("Хадгалах")])],1)],2)],1)},i=[],o=(a("4160"),a("a15b"),a("a434"),a("159b"),{data:function(){return{photos:[],kiosks:{checkall:!1,checked:[],list:[],isIndeterminate:!1},search:"",loading:!1,modals:{photo:!1,addVideo:!1},currentText:{text:"",created_at:"",end_at:""},addKioskCode:"",selectedVideo:""}},mounted:function(){this.getText(),this.getKiosks()},methods:{handleCheckAllChange:function(t){var e=this;t?this.kiosks.list.forEach((function(t){e.kiosks.checked.push(t.code)})):this.kiosks.checked=[],this.kiosks.isIndeterminate=!t},handleCheckedCitiesChange:function(t){var e=t.length;this.kiosks.checkall=e===this.kiosks.list.length,this.kiosks.isIndeterminate=e>0&&e<this.kiosks.list.length},getKiosks:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-all-kiosk",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.kiosks.list=e.data.kiosk,console.log(e.data.kiosk))})).catch((function(e){t.loading=!1,console.log(e)}))},formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},saveChangedDate:function(t){var e=this,a=localStorage.getItem("token");this.loading=!0,this.$axios({method:"POST",url:this.$appUrl+"/user/update-marquee-end-at",headers:{Authorization:"Bearer ".concat(a)},data:{row:t}}).then((function(a){e.loading=!1,200==a.data.result&&(t.end_at=e.formatDate(t.changed_at),t.active=1,t.isChange=!1,e.$notify({title:"Амжилттай",message:"Огноо шинэчлэгдлээ",type:"success"}))}))},hideChangeDate:function(t){t.changed_at=t.end_at,t.isChange=!1},selectVideo:function(t){this.selectedVideo=t,this.modals.addVideo=!0},saveVideo:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/add-kiosk-text",headers:{Authorization:"Bearer ".concat(e)},data:{kiosk:this.kiosks.checked,id:this.selectedVideo}}).then((function(e){t.loading=!1,"success"==e.data.result?t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}):"duplicate"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэгдсэн",type:"danger"}):"failed"==e.data.result&&t.$notify({title:"Амжилтгүй",message:"Киоск олдсонгүй",type:"danger"})})).catch((function(e){t.loading=!1,console.log(e)}))},deletePhoto:function(t){var e=this;this.$confirm("Устгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e;e.loading=!0;var s=localStorage.getItem("token");a.$axios({method:"POST",url:e.$appUrl+"/user/delete-marquee",headers:{Authorization:"Bearer ".concat(s)},data:{id:t}}).then((function(s){a.loading=!1,"success"==s.data.result&&e.photos.forEach((function(e,s){e.id==t&&a.photos.splice(s,1)}))})).catch((function(t){a.loading=!1,console.log(t)}))}))},getText:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-marquee",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.photos=e.data.marquee)})).catch((function(e){t.loading=!1,console.log(e)}))},uploadText:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/add-marquee",headers:{Authorization:"Bearer ".concat(e)},data:{text:this.currentText}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.photo=!1,t.getText())})).catch((function(e){t.loading=!1,console.log(e)}))}}}),n=o,l=(a("f0b9"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"e151c6b6",null);e["default"]=c.exports},fbad:function(t,e,a){"use strict";a("a191")},fcb2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]},[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success",align:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.modals.photo=!0}}},[t._v("Зураг байршуулах")])],1),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow border-0 p-5"},[a("div",{staticClass:"table-responsive mt-2"},[a("table",{staticClass:"table align-items-center table-flush thead-light"},[a("thead",[a("th",{style:{background:"#F6F9FC"}},[t._v("#Дугаар")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Зураг")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Эхлэх огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Дуусах огноо")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Файлын хэмжээ")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Тайлбар")]),a("th",{style:{background:"#F6F9FC","text-align":"right"}},[t._v("Төлөв")]),a("th",{style:{background:"#F6F9FC"}})]),a("tbody",t._l(t.photos,(function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[t._v(" "+t._s(e.id)+" ")])])]),a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-image",{staticStyle:{width:"40px",height:"auto"},attrs:{src:t.$appUrl+"/contents/image/slide/"+e.name,"preview-src-list":[t.$appUrl+"/contents/image/slide/"+e.name]}})],1)])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(e.created_at))])])])]),e.isChange?e.isChange?a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-date-picker",{staticStyle:{"max-width":"150px"},attrs:{type:"date",placeholder:"Огноогоо сонгоно уу"},model:{value:e.changed_at,callback:function(a){t.$set(e,"changed_at",a)},expression:"row.changed_at"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(a){return t.saveChangedDate(e)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini",circle:""},on:{click:function(e){return t.hideChangeDate(s)}}})],1)])]):t._e():a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(e.end_at))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Дуусах хугацааг шинэчлэх",placement:"top-end"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(t){e.isChange=!0}}})],1)],1)])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(e.size)+" MB")])])])]),e.descChange?e.descChange?a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"Тайлбар",maxlength:"80",required:"",clearable:""},model:{value:e.changed_desc,callback:function(a){t.$set(e,"changed_desc",a)},expression:"row.changed_desc"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-check",size:"mini",circle:""},on:{click:function(a){return t.saveChangedDate(e)}}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-close",size:"mini",circle:""},on:{click:function(e){return t.hideChangedDesc(s)}}})],1)])]):t._e():a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(e.description))]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тайлбар шинэчлэх",placement:"top-end"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(t){e.descChange=!0}}})],1)],1)])]),a("td",{attrs:{scope:"row",align:"right"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.active},on:{click:function(a){return t.changeStat(e.id)}}}),a("span",{staticClass:"slider round"})])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Киоск дээр нэмэх",placement:"top"}},[a("base-button",{attrs:{type:"warning",size:"sm"},on:{click:function(a){return t.selectPhoto(e.id)}}},[a("span",{staticClass:"ni ni-cloud-upload-96"})])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(a){return t.deletePhoto(e.id)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)])})),0)])])])])])]),a("modal",{attrs:{show:t.modals.photo},on:{"update:show":function(e){return t.$set(t.modals,"photo",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Зураг байршуулах")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Эхлэх огноо"},model:{value:t.newPhoto.created_at,callback:function(e){t.$set(t.newPhoto,"created_at",e)},expression:"newPhoto.created_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Дуусах огноо"},model:{value:t.newPhoto.end_at,callback:function(e){t.$set(t.newPhoto,"end_at",e)},expression:"newPhoto.end_at"}})],1),a("div",{staticClass:"block mt-10"},[a("el-input",{attrs:{placeholder:"Тайлбар",maxlength:"80",required:"",clearable:""},model:{value:t.newPhoto.description,callback:function(e){t.$set(t.newPhoto,"description",e)},expression:"newPhoto.description"}})],1),a("div",{staticClass:"block mt-10"},[a("el-button",{staticStyle:{width:"100%"},on:{click:t.trigger}},[t._v(t._s(t.newPhoto.filename))])],1),a("input",{ref:"image",attrs:{type:"file",accept:"image/*",id:"image",hidden:""},on:{change:t.changeImageUpload}})])]),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.photo=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.uploadPhoto}},[t._v("Хадгалах")])],1)],2),a("modal",{attrs:{show:t.modals.addPhoto},on:{"update:show":function(e){return t.$set(t.modals,"addPhoto",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Зураг оруулах")]),a("div",{staticClass:"row",staticStyle:{padding:"10px","max-height":"300px","overflow-y":"auto"}},[a("el-checkbox",{attrs:{indeterminate:t.kiosks.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.kiosks.checkall,callback:function(e){t.$set(t.kiosks,"checkall",e)},expression:"kiosks.checkall"}},[t._v("Check all")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr 1fr"},on:{change:t.handleCheckedCitiesChange},model:{value:t.kiosks.checked,callback:function(e){t.$set(t.kiosks,"checked",e)},expression:"kiosks.checked"}},t._l(t.kiosks.list,(function(e,s){return a("el-checkbox",{key:s,staticStyle:{width:"100%"},attrs:{label:e.code}},[a("span",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(e.code))])])})),1)],1),a("template",{slot:"footer"},[a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.addPhoto=!1}}},[t._v("Гарах")]),a("base-button",{attrs:{type:"primary"},on:{click:t.savePhoto}},[t._v("Хадгалах")])],1)],2)],1)},i=[],o=(a("a4d3"),a("e01a"),a("4160"),a("a15b"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{photos:[],kiosks:{checkall:!1,checked:[],list:[],isIndeterminate:!1},search:"",loading:!1,modals:{photo:!1,addPhoto:!1},selectedPhoto:"",addKioskCode:"",newPhoto:{description:"",SelectedFile:"",created_at:"",end_at:"",filename:"Зураг байршуулах"},changeEdit:!1}},mounted:function(){this.getPhotos(),this.getKiosks()},methods:{handleCheckAllChange:function(t){var e=this;t?this.kiosks.list.forEach((function(t){e.kiosks.checked.push(t.code)})):this.kiosks.checked=[],this.kiosks.isIndeterminate=!t},handleCheckedCitiesChange:function(t){var e=t.length;this.kiosks.checkall=e===this.kiosks.list.length,this.kiosks.isIndeterminate=e>0&&e<this.kiosks.list.length},getKiosks:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-all-kiosk",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.kiosks.list=e.data.kiosk,console.log(e.data.kiosk))})).catch((function(e){t.loading=!1,console.log(e)}))},formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},saveChangedDate:function(t){var e=this,a=localStorage.getItem("token");this.loading=!0,this.$axios({method:"POST",url:this.$appUrl+"/user/update-end-at",headers:{Authorization:"Bearer ".concat(a)},data:{row:t}}).then((function(a){e.loading=!1,200==a.data.result&&(t.end_at=e.formatDate(t.changed_at),t.description=t.changed_desc,t.active=1,t.isChange=!1,t.descChange=!1,e.$notify({title:"Амжилттай",message:"Огноо шинэчлэгдлээ",type:"success"}))}))},hideChangeDate:function(t){this.photos[t].changed_at=this.photos[t].end_at,this.photos[t].isChange=!1},hideChangedDesc:function(t){this.photos[t].changed_desc=this.photos[t].description,this.photos[t].descChange=!1},savePhoto:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/add-kiosk-photo",headers:{Authorization:"Bearer ".concat(e)},data:{kiosk:this.kiosks.checked,id:this.selectedPhoto}}).then((function(e){t.loading=!1,"success"==e.data.result?t.$notify({title:"Амжилттай",message:"Бүртгэгдлээ",type:"success"}):"duplicate"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэгдсэн",type:"danger"}):"failed"==e.data.result&&t.$notify({title:"Амжилтгүй",message:"Киоск олдсонгүй",type:"danger"})})).catch((function(e){t.loading=!1,console.log(e)}))},selectPhoto:function(t){this.selectedPhoto=t,this.modals.addPhoto=!0},deletePhoto:function(t){var e=this;this.$confirm("Устгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e;e.loading=!0;var s=localStorage.getItem("token");a.$axios({method:"POST",url:e.$appUrl+"/user/delete-photo",headers:{Authorization:"Bearer ".concat(s)},data:{id:t}}).then((function(s){a.loading=!1,"success"==s.data.result&&e.photos.forEach((function(e,s){e.id==t&&a.photos.splice(s,1)}))})).catch((function(t){a.loading=!1,console.log(t)}))}))},changeStat:function(t){var e=this;this.loading=!0;var a=0,s=0;this.photos.forEach((function(e,i){e.id==t&&(s=i,e.active||(a=1))}));var i=localStorage.getItem("token");e.$axios({method:"POST",url:this.$appUrl+"/user/update-photo-active",headers:{Authorization:"Bearer ".concat(i)},data:{id:t,active:a}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.photos[s].active=a)})).catch((function(t){e.loading=!1,console.log(t)}))},getPhotos:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");t.$axios({method:"POST",url:this.$appUrl+"/user/get-photos",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.photos=e.data.photo)})).catch((function(e){t.loading=!1,console.log(e)}))},uploadPhoto:function(){var t=this,e=localStorage.getItem("token");if(""==this.newPhoto.SelectedFile||""==this.newPhoto.created_at||""==this.newPhoto.end_at||""==this.newPhoto.description)this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"danger"});else{this.loading=!0;var a=new FormData;a.append("photo",this.newPhoto.SelectedFile,this.newPhoto.SelectedFile.name),a.append("info",JSON.stringify(this.newPhoto)),this.$axios.post(this.$appUrl+"/user/photo-upload",a,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Зураг бүртгэгдлээ",type:"success"}),t.getPhotos())})).catch((function(e){t.loading=!1,console.log(e)}))}},trigger:function(){this.$refs.image.click()},changeImageUpload:function(t){this.newPhoto.SelectedFile=t.target.files[0],this.newPhoto.filename=this.newPhoto.SelectedFile.name}}}),n=o,l=(a("fbad"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"0521ac1c",null);e["default"]=c.exports},ff84:function(t,e,a){}}]);
//# sourceMappingURL=demo.fe4bca1a.js.map